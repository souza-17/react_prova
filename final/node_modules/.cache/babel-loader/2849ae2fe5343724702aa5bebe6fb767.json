{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\T-Gamer\\\\Desktop\\\\final\\\\src\\\\pages\\\\formProntuarios.js\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport history from '../history';\nimport api from '../api';\nimport { TextField, Button } from \"@material-ui/core\";\nimport { Context } from '../Context/AuthContext';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Layout from './template/Layout';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: '100%',\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n}));\n\nasync function add(form) {\n  const titulo = form.titulo;\n  const descricao = form.descricao;\n  const user_id = form.user_id;\n  const paciente_id = form.paciente_id;\n\n  try {\n    const response = await api.post('/prontuarios', {\n      titulo,\n      descricao,\n      user_id,\n      paciente_id\n    });\n    console.log(response);\n    alert(\"Cadastro realizado com sucesso!\");\n    history.push({\n      pathname: '/prontuarios'\n    });\n  } catch (err) {\n    alert(\"Erro ao Salvar Prontuario\");\n  }\n}\n\nasync function update(form) {\n  const titulo = form.titulo;\n  const descricao = form.descricao;\n  const user_id = form.user_id;\n  const paciente_id = form.paciente_id;\n  const id = form.id;\n\n  try {\n    const response = await api.put(`prontuarios/${id}`, {\n      titulo,\n      descricao,\n      user_id,\n      paciente_id\n    });\n    console.log(response);\n    alert(\"Cadastro Alterado com sucesso!\");\n    history.push({\n      pathname: '/pacientes'\n    });\n  } catch (err) {\n    alert(\"Erro ao Salvar paciente\");\n  }\n}\n\nexport default function FormProntuarios(dados) {\n  const {\n    handleLogout\n  } = useContext(Context);\n  const [titulo, setTitulo] = useState(false);\n  const [descricao, setDescricao] = useState(false);\n  const [Pacientes, setPacientes] = useState([]);\n  const [user_id, setUser] = useState();\n  const [paciente_id, setPaciente] = useState();\n  const [id, setID] = useState();\n  const classes = useStyles();\n  const us_id = \"\";\n  useEffect(() => {\n    (async () => {\n      const {\n        data\n      } = await api.get('/pacientes');\n      const us_id = await localStorage.getItem('id');\n      setUser(us_id);\n      setPacientes(data);\n\n      if (typeof dados.location.state !== 'undefined') {\n        console.log(\"editando esse Prontuario\");\n        console.log(dados.location.state);\n        setDescricao(dados.location.state.descricao);\n        setTitulo(dados.location.state.titulo);\n        setID(dados.location.state.id);\n        setPaciente(dados.location.state.paciente_id);\n        setUser(dados.location.state.usuario_id);\n        console.log({\n          titulo,\n          descricao,\n          user_id,\n          paciente_id,\n          id\n        });\n      }\n    })();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }, \"Cadastro de Prontuario!\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: event => {\n      event.preventDefault();\n    },\n    className: classes.form,\n    noValidate: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    labelId: \"demo-simple-select-label\",\n    id: \"demo-simple-select\",\n    onChange: event => {\n      setPaciente(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, Pacientes.map(paci => /*#__PURE__*/React.createElement(MenuItem, {\n    value: paci.id,\n    selected: paciente_id == paci.id ? true : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 19\n    }\n  }, paci.nome))), /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    value: titulo ? titulo : '',\n    fullWidth: true,\n    id: \"titulo\",\n    label: \"titulo\",\n    name: \"titulo\",\n    onChange: event => {\n      setTitulo(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    fullWidth: true,\n    label: \"descricao\",\n    value: descricao ? descricao : '',\n    name: \"cpf\",\n    type: \"Text\",\n    id: \"cpf\",\n    onChange: event => {\n      setDescricao(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }\n  }), id ? /*#__PURE__*/React.createElement(Button, {\n    type: \"Submit\",\n    variant: \"contained\",\n    color: \"primary\",\n    className: classes.submit,\n    onClick: event => {\n      update({\n        titulo,\n        descricao,\n        id,\n        user_id,\n        paciente_id\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 17\n    }\n  }, \"Editar\") : /*#__PURE__*/React.createElement(Button, {\n    type: \"Submit\",\n    variant: \"contained\",\n    color: \"primary\",\n    className: classes.submit,\n    onClick: event => {\n      // alert(user_id);\n      add({\n        titulo,\n        descricao,\n        user_id,\n        paciente_id\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 17\n    }\n  }, \"Cadastrando\"), /*#__PURE__*/React.createElement(Button, {\n    type: \"Submit\",\n    variant: \"contained\",\n    className: classes.submit,\n    onClick: event => {\n      history.push('/Prontuarios');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 13\n    }\n  }, \"Voltar\")))));\n}","map":{"version":3,"sources":["C:/Users/T-Gamer/Desktop/final/src/pages/formProntuarios.js"],"names":["React","useState","useEffect","useContext","history","api","TextField","Button","Context","CssBaseline","Typography","makeStyles","Container","Layout","Select","InputLabel","MenuItem","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","add","titulo","descricao","user_id","paciente_id","response","post","console","log","alert","push","pathname","err","update","id","put","FormProntuarios","dados","handleLogout","setTitulo","setDescricao","Pacientes","setPacientes","setUser","setPaciente","setID","classes","us_id","data","get","localStorage","getItem","location","state","usuario_id","event","preventDefault","target","value","map","paci","nome"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport history from '../history';\r\nimport api from '../api';\r\nimport { TextField, Button } from \"@material-ui/core\";\r\nimport { Context } from '../Context/AuthContext';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Layout from './template/Layout'\r\nimport Select from '@material-ui/core/Select';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nasync function add(form) {\r\n\r\n  const titulo = form.titulo\r\n  const descricao = form.descricao\r\n  const user_id = form.user_id\r\n  const paciente_id = form.paciente_id\r\n\r\n  try {\r\n    const response = await api.post('/prontuarios', { titulo, descricao, user_id, paciente_id });\r\n    console.log(response);\r\n\r\n    alert(\"Cadastro realizado com sucesso!\");\r\n    history.push({\r\n      pathname: '/prontuarios'\r\n    });\r\n  } catch (err) {\r\n    alert(\"Erro ao Salvar Prontuario\");\r\n  } \r\n\r\n}\r\n\r\nasync function update(form) {\r\n\r\n  const titulo = form.titulo\r\n  const descricao = form.descricao\r\n  const user_id = form.user_id\r\n  const paciente_id = form.paciente_id\r\n  const id = form.id\r\n\r\n  try {\r\n    const response = await api.put(`prontuarios/${id}`, { titulo, descricao, user_id, paciente_id });\r\n    console.log(response);\r\n\r\n    alert(\"Cadastro Alterado com sucesso!\");\r\n    history.push({\r\n      pathname: '/pacientes'\r\n    });\r\n  } catch (err) {\r\n    alert(\"Erro ao Salvar paciente\");\r\n  } \r\n\r\n}\r\n\r\n\r\n\r\nexport default function FormProntuarios(dados) {\r\n  const { handleLogout } = useContext(Context);\r\n  const [titulo, setTitulo ] = useState(false);\r\n  const [descricao, setDescricao ] = useState(false);\r\n  const [Pacientes, setPacientes] = useState([]);\r\n  const [user_id, setUser ] = useState();\r\n  const [paciente_id, setPaciente ] = useState();\r\n  const [id, setID ] = useState();\r\n  const classes = useStyles();\r\n  const us_id = \"\";\r\n\r\n  useEffect(() => {\r\n\r\n    (async () => {\r\n      const { data } = await api.get('/pacientes');\r\n    \r\n      const us_id = await localStorage.getItem('id');\r\n      \r\n      setUser(us_id);\r\n      setPacientes(data);\r\n\r\n      if (typeof dados.location.state !== 'undefined'){\r\n        console.log(\"editando esse Prontuario\");\r\n        console.log(dados.location.state);\r\n        setDescricao(dados.location.state.descricao);\r\n        setTitulo(dados.location.state.titulo);\r\n        setID(dados.location.state.id);\r\n        setPaciente(dados.location.state.paciente_id);\r\n        setUser(dados.location.state.usuario_id);\r\n  \r\n        console.log({titulo, descricao, user_id, paciente_id, id});\r\n      }\r\n\r\n    })();\r\n\r\n  }, []);\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n      <Layout />\r\n      <Container component=\"main\" maxWidth=\"xs\">\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Cadastro de Prontuario!\r\n          </Typography>\r\n          <form \r\n            onSubmit={(event) => {\r\n              event.preventDefault();\r\n            }}\r\n            className={classes.form} \r\n            noValidate\r\n          >\r\n            <Select\r\n              labelId=\"demo-simple-select-label\"\r\n              id=\"demo-simple-select\"\r\n              \r\n              onChange = {\r\n                (event) => {\r\n                  setPaciente(event.target.value);\r\n                }\r\n              }\r\n            >\r\n               { Pacientes.map((paci) => (\r\n                  <MenuItem\r\n                  value={paci.id}\r\n                  selected={paciente_id == paci.id ? true : ''}  \r\n                  >{paci.nome}\r\n                  </MenuItem>\r\n               ))}\r\n            </Select>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              value={ titulo ? titulo : ''}\r\n              fullWidth\r\n              id=\"titulo\"\r\n              label=\"titulo\"\r\n              name=\"titulo\"\r\n              onChange={(event) => {\r\n                setTitulo(event.target.value);\r\n              }}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              fullWidth\r\n              label=\"descricao\"\r\n              value={ descricao ? descricao : ''}\r\n              name=\"cpf\"\r\n              type=\"Text\"\r\n              id=\"cpf\"\r\n              onChange={(event) => {\r\n                setDescricao(event.target.value);\r\n              }}\r\n            />\r\n            {id\r\n              ? \r\n                <Button\r\n                  type=\"Submit\"\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  className={classes.submit}\r\n                  onClick={(event) => {\r\n                    update({titulo, descricao, id, user_id, paciente_id})\r\n                  }}\r\n                >\r\n                  Editar\r\n                </Button>\r\n              : \r\n                <Button\r\n                  type=\"Submit\"\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  className={classes.submit}\r\n                  onClick={(event) => {\r\n                    // alert(user_id);\r\n                    add({titulo, descricao, user_id, paciente_id})\r\n                }}\r\n              >\r\n                Cadastrando\r\n              </Button>\r\n            }\r\n            <Button\r\n              type=\"Submit\"\r\n              variant=\"contained\"\r\n              className={classes.submit}\r\n              onClick={(event) => {\r\n                history.push('/Prontuarios');\r\n              }}\r\n            >\r\n              Voltar\r\n            </Button>\r\n          </form>\r\n        </div>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}