{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\T-Gamer\\\\Desktop\\\\final\\\\src\\\\pages\\\\listProntuarios.js\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport api from '../api';\nimport { Context } from '../Context/AuthContext';\nimport history from '../history';\nimport { Button } from \"@material-ui/core\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Title from './template/Title';\nimport Layout from './template/Layout';\n\nasync function add() {\n  try {\n    history.push({\n      pathname: '/adicionarProntuario'\n    });\n  } catch (err) {\n    alert(\"Erro ao editar\");\n  }\n}\n\nasync function update(prontuario_id) {\n  try {\n    const {\n      data\n    } = await api.get(`/prontuarios/${prontuario_id}`);\n    history.push({\n      pathname: '/adicionarProntuario',\n      state: data\n    });\n  } catch (err) {\n    alert(\"Erro ao editar\");\n  }\n}\n\nasync function remove(prontuario_id) {\n  try {\n    const response = await api.delete(`prontuarios/${prontuario_id}`);\n    alert(\"Prontuario Deletado com sucesso!\");\n    history.go({\n      pathname: '/prontuarios'\n    });\n  } catch (err) {\n    alert(\"Erro ao deletar\");\n  }\n}\n\nconst useStyles = makeStyles(theme => ({\n  seeMore: {\n    marginTop: theme.spacing(3)\n  }\n}));\nexport default function ListProntuarios() {\n  const classes = useStyles();\n  const [prontuarios, setProntuarios] = useState([]);\n  const us_id = \"\";\n  useEffect(() => {\n    (async () => {\n      const us_id = localStorage.getItem('id');\n      const {\n        data\n      } = await api.get(`/prontuario_list/${us_id}`);\n      setProntuarios(data);\n    })();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, \"Lista de Prontuarios\"), /*#__PURE__*/React.createElement(Table, {\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 25\n    }\n  }, \"Titulo\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 25\n    }\n  }, \"Descri\\xE7\\xE3o\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 25\n    }\n  }, \"Paciente\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 25\n    }\n  }, \"A\\xE7\\xF5es\"))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }, prontuarios.map(prontuario => /*#__PURE__*/React.createElement(TableRow, {\n    key: prontuario.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 29\n    }\n  }, prontuario.titulo), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 29\n    }\n  }, prontuario.descricao), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 29\n    }\n  }, prontuario.paciente), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"\",\n    onClick: event => {\n      event.preventDefault();\n      update(prontuario.id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(EditIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"\",\n    onClick: event => {\n      event.preventDefault();\n      remove(prontuario.id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(DeleteIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 33\n    }\n  }))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.seeMore,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"Submit\",\n    color: \"primary\",\n    variant: \"contained\",\n    className: classes.submit,\n    onClick: event => {\n      add();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 21\n    }\n  }, \"Cadastrar Prontuario\")))));\n}\n;","map":{"version":3,"sources":["C:/Users/T-Gamer/Desktop/final/src/pages/listProntuarios.js"],"names":["React","useState","useEffect","useContext","api","Context","history","Button","makeStyles","Table","TableBody","TableCell","TableHead","TableRow","EditIcon","DeleteIcon","Title","Layout","add","push","pathname","err","alert","update","prontuario_id","data","get","state","remove","response","delete","go","useStyles","theme","seeMore","marginTop","spacing","ListProntuarios","classes","prontuarios","setProntuarios","us_id","localStorage","getItem","map","prontuario","id","titulo","descricao","paciente","event","preventDefault","submit"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport api from '../api';\r\nimport { Context } from '../Context/AuthContext';\r\nimport history from '../history';\r\nimport { Button } from \"@material-ui/core\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Title from './template/Title';\r\nimport Layout from './template/Layout'\r\n\r\nasync function add() {\r\n    try {\r\n        history.push({\r\n          pathname: '/adicionarProntuario'\r\n        });\r\n      } catch (err) {\r\n        alert(\"Erro ao editar\");\r\n      } \r\n}\r\n  \r\nasync function update(prontuario_id) {\r\n    try {\r\n      const { data } = await api.get(`/prontuarios/${prontuario_id}`);\r\n      \r\n      history.push({\r\n        pathname: '/adicionarProntuario',\r\n        state: data\r\n      });\r\n    } catch (err) {\r\n      alert(\"Erro ao editar\");\r\n    } \r\n}\r\n  \r\nasync function remove(prontuario_id) {\r\n    try {\r\n        const response = await api.delete(`prontuarios/${prontuario_id}`);\r\n        alert(\"Prontuario Deletado com sucesso!\");\r\n        \r\n        history.go({\r\n            pathname: '/prontuarios'\r\n        });\r\n\r\n      } catch (err) {\r\n        alert(\"Erro ao deletar\");\r\n      } \r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    seeMore: {\r\n        marginTop: theme.spacing(3),\r\n    },\r\n}));\r\n\r\n\r\nexport default function ListProntuarios (){\r\n    const classes = useStyles();\r\n    const [prontuarios, setProntuarios] = useState([]);\r\n    const us_id = \"\";\r\n\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            const us_id = localStorage.getItem('id');\r\n \r\n            const { data } = await api.get(`/prontuario_list/${us_id}`);\r\n            setProntuarios(data);\r\n            \r\n        })();\r\n    }, []);\r\n\r\n\r\n    return(\r\n        <>\r\n        <div>\r\n            <Layout />\r\n            <React.Fragment>\r\n                <Title>Lista de Prontuarios</Title>\r\n                <Table size=\"small\">\r\n                    <TableHead>\r\n                    <TableRow>\r\n                        <TableCell>Titulo</TableCell>\r\n                        <TableCell>Descrição</TableCell>\r\n                        <TableCell>Paciente</TableCell>\r\n                        <TableCell>Ações</TableCell>\r\n                    </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                    {prontuarios.map((prontuario) => (\r\n                        <TableRow key={prontuario.id}>\r\n                            <TableCell>{prontuario.titulo}</TableCell>\r\n                            <TableCell>{prontuario.descricao}</TableCell>\r\n                            <TableCell>{prontuario.paciente}</TableCell>\r\n                            <TableCell>\r\n                                <a\r\n                                    href=\"\"\r\n                                    onClick={(event) => {\r\n                                        event.preventDefault();\r\n                                        update(prontuario.id);\r\n                                    }}\r\n                                >\r\n                                <EditIcon />      \r\n                                </a>\r\n                                <a\r\n                                    href=\"\"\r\n                                    onClick={(event) => {\r\n                                        event.preventDefault();\r\n                                        remove(prontuario.id);\r\n                                    }}\r\n                                >\r\n                                <DeleteIcon />      \r\n                                </a>       \r\n                            </TableCell>\r\n                        </TableRow>\r\n                    ))}\r\n                    </TableBody>\r\n                </Table>\r\n                <div className={classes.seeMore}>\r\n                    <Button\r\n                        type=\"Submit\"\r\n                        color=\"primary\"\r\n                        variant=\"contained\"\r\n                        className={classes.submit}\r\n                        onClick={(event) => {\r\n                            add();\r\n                        }}\r\n                        >\r\n                        Cadastrar Prontuario\r\n                    </Button>\r\n                </div>\r\n            </React.Fragment>\r\n        </div>\r\n        </>\r\n    )\r\n};\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}